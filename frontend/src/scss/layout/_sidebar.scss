@use "nav" as *;
@use "../abstracts/variables" as *;
@use "sass:math";
@use "../abstracts/mixins" as *;

// $sidebar-width: min(350px, 80%);
//
// .sidebar {
//   // display: none;
//   width: $sidebar-width;
//   height: calc(100dvh - #{$nav-height});
//   position: fixed;
//   top: $nav-height;
//   left: calc(-1 * #{$sidebar-width});
//   transition: left 0.3s ease;
//   overflow: hidden auto; // x, y
//   z-index: 9998;
//   padding-top: 20px;
//
//   a {
//     color: inherit;
//     text-decoration: none;
//   }
//
//   //  INFO: all the tree-like links
//   //  this is quite confusing cause of skill issue so brace! ðŸ«¡
//
//   .sidebar-item {
//     margin-bottom: $base-margin;
//     // display: none;
//
//     li {
//       list-style-type: none;
//       cursor: pointer;
//     }
//
//     h3 {
//       transition: transform 200ms ease-in;
//
//       &:hover {
//         transform: translateX(26px) scale(1.08);
//       }
//     }
//
//     // INFO:  TARGET ALL BRANCHES, EVEN THE NESTED ONES
//     .sidebar-item-branches {
//       padding-left: $base-padding;
//       position: relative;
//       // display: none; // NOTE: gonna be initially hidden later
//
//       &.open {
//         display: block;
//       }
//
//       &::before {
//         content: "";
//         height: calc(100% - 3px);
//         position: absolute;
//         left: 0;
//         top: -10px;
//       }
//
//       a {
//         display: inline-block;
//         transition: transform 200ms ease-in;
//       }
//
//       .sidebar-item-branch:not(:has(> ul.sidebar-item-branches)):hover {
//         > a {
//           transform: translateX(22px) scale(1.05);
//         }
//
//         &::before {
//           width: 1.7em;
//         }
//       }
//
//       .sidebar-item-branch {
//         margin-top: $base-margin;
//         position: relative;
//         transition: transform 200ms ease-in;
//
//         &::before {
//           content: "";
//           left: -10px;
//           top: 10px;
//           width: 0.5em;
//           position: absolute;
//           transition:
//             left 160ms ease-in,
//             width 160ms ease-in;
//         }
//       }
//
//       //  INFO:  TARGET "ONLY" THE NESTED ul.sidebar-item-branches
//       //  AND .SIDEBAR-ITEM-BRANCH (higher specificity because of nesting)
//       .sidebar-item-branches {
//         padding-left: calc(#{$base-padding} + 14px);
//
//         // POSITION OF ALL THE VERTICAL LINES IN INNER BRANCHES
//         // WHILE THE OUTER ONE REMAINS 0
//         &::before {
//           left: 11px;
//         }
//
//         // POSITION OF ALL THE HORIZONTAL LINES IN INNER BRANCHES
//         .sidebar-item-branch {
//           &::before {
//             width: 0.6em;
//             left: -12px;
//           }
//
//           &:hover::before {
//             width: 1.83em;
//           }
//         }
//       }
//     }
//   }
// }

// TOGGLING SIDEBAR

// @include xs {
//   html {
//     // initially hidden cause putting it
//     // inside &.active-sidebar resets the scroll
//     // bar position (cause overflow will be toggled too)
//     overflow: hidden;
//
//     body {
//       overflow-x: hidden;
//     }
//
//     &.active-sidebar {
//       body {
//         overflow: hidden; // disable scrolling if sidebar is open
//
//         .sidebar {
//           left: 0;
//         }
//
//         main {
//           // pointer-events: none;
//           transform: translateX($sidebar-width);
//
//           .main-overlay {
//             opacity: 1;
//             visibility: visible;
//           }
//         }
//
//         // footer {
//         // overflow: hidden;
//         // position: fixed;
//         // bottom: 0;
//         // }
//       }
//     }
//   }
// }

// @include md {
//   html {
//     overflow: auto !important;
//
//     &.active-sidebar {
//       body {
//         overflow: hidden auto !important;
//
//         main {
//           .main-overlay {
//             display: none;
//           }
//         }
//       }
//     }
//   }
// }
